[{"C:\\Users\\IsaiasBriones\\desktop\\dear-diary\\src\\index.js":"1","C:\\Users\\IsaiasBriones\\desktop\\dear-diary\\src\\App.js":"2","C:\\Users\\IsaiasBriones\\desktop\\dear-diary\\src\\reportWebVitals.js":"3","C:\\Users\\IsaiasBriones\\Desktop\\dear-diary\\src\\index.js":"4","C:\\Users\\IsaiasBriones\\Desktop\\dear-diary\\src\\App.js":"5","C:\\Users\\IsaiasBriones\\Desktop\\dear-diary\\src\\reportWebVitals.js":"6","C:\\Users\\IsaiasBriones\\Desktop\\dear-diary\\src\\components\\Compose.js":"7","C:\\Users\\IsaiasBriones\\Desktop\\dear-diary\\src\\components\\Index.js":"8","C:\\Users\\IsaiasBriones\\Desktop\\dear-diary\\src\\history.js":"9"},{"size":500,"mtime":1607038134942,"results":"10","hashOfConfig":"11"},{"size":528,"mtime":1607038134942,"results":"12","hashOfConfig":"11"},{"size":362,"mtime":1607038134942,"results":"13","hashOfConfig":"11"},{"size":500,"mtime":1607038134942,"results":"14","hashOfConfig":"15"},{"size":576,"mtime":1607118037143,"results":"16","hashOfConfig":"15"},{"size":362,"mtime":1607038134942,"results":"17","hashOfConfig":"15"},{"size":916,"mtime":1607118172103,"results":"18","hashOfConfig":"15"},{"size":3023,"mtime":1607117965743,"results":"19","hashOfConfig":"15"},{"size":87,"mtime":1607114365582,"results":"20","hashOfConfig":"15"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"tsg75v",{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},"10f8i3o",{"filePath":"30","messages":"31","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"29"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"29"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\IsaiasBriones\\desktop\\dear-diary\\src\\index.js",[],"C:\\Users\\IsaiasBriones\\desktop\\dear-diary\\src\\App.js",[],"C:\\Users\\IsaiasBriones\\desktop\\dear-diary\\src\\reportWebVitals.js",[],"C:\\Users\\IsaiasBriones\\Desktop\\dear-diary\\src\\index.js",[],["42","43"],"C:\\Users\\IsaiasBriones\\Desktop\\dear-diary\\src\\App.js",["44","45"],"import React, { useState, useEffect } from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './App.css';\r\nimport Index from './components/Index';\r\nimport Compose from './components/Compose';\r\nimport history from './history';\r\n\r\nconst App = () => {\r\n  return (\r\n    <Router history={history}>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Index}/>\r\n        <Route path=\"/compose\" exact component={Compose}/>\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","C:\\Users\\IsaiasBriones\\Desktop\\dear-diary\\src\\reportWebVitals.js",[],"C:\\Users\\IsaiasBriones\\Desktop\\dear-diary\\src\\components\\Compose.js",["46","47","48","49","50"],"C:\\Users\\IsaiasBriones\\Desktop\\dear-diary\\src\\components\\Index.js",["51"],"import React, { useState, useEffect } from \"react\";\r\nimport SpeechRecognition, { useSpeechRecognition } from \"react-speech-recognition\";\r\nimport UIfx from 'uifx';\r\nimport alertAudio from '../sounds/wake.wav';\r\nimport MicIcon from '@material-ui/icons/Mic';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\n\r\nconst Index = (props) => {\r\n  const alert = new UIfx(alertAudio);\r\n  const wake = [\r\n    \"okay diary\", \"ok diary\", \"dear diary\", \"hey diary\", \"hello diary\", \"hi diary\", \"sup diary\"\r\n  ];\r\n\r\n  const [woke, setWoke] = useState(false);\r\n  // configure commands\r\n  const commands = wake.map(w => ({\r\n    command: w,\r\n    callback: ({ resetTranscript }) => { alert.play(); setWoke(true); resetTranscript() },\r\n  }));\r\n\r\n  const { transcript, finalTranscript, resetTranscript } = useSpeechRecognition({commands});\r\n  const [result, setResult] = useState(\"\");\r\n\r\n  // this function will send query to witai\r\n  const sendQuery = ( query ) => {\r\n    // assemble url\r\n    const url = `https://api.wit.ai/message?v=${moment().format(\"YYYYMMDD\")}&q=${query.split(\" \").join(\"%20\")}`;\r\n    \r\n\r\n    // make GET request\r\n    axios.get(url, { headers: { 'Authorization': 'Bearer H2VXHIZES4DBHZCDWUXB6BKOINMHC66Z' } })\r\n      .then(res => {  \r\n\r\n        // if there are intents\r\n        if(res.data.intents.length){\r\n          let intent_name = res.data.intents[0].name;\r\n\r\n          switch(intent_name){\r\n            case \"new_entry\":\r\n                props.history.push(\"/compose\");\r\n                break;\r\n            default:\r\n              console.log(\"no match\");\r\n              break;\r\n          }\r\n        }\r\n        \r\n      })\r\n      .catch(err => console.log(err));\r\n  }\r\n  \r\n  useEffect(() => {\r\n    if(woke){\r\n      // send next transcript to witai\r\n      if(finalTranscript.length){\r\n        // send to witai\r\n        sendQuery(finalTranscript);\r\n        // console.log(finalTranscript);\r\n\r\n        // set woke to false\r\n        setWoke(false);\r\n\r\n        // new transcript\r\n        resetTranscript();\r\n      }\r\n      // then set woke to false\r\n    } else{\r\n      setResult(transcript);\r\n    }\r\n  }, [transcript, finalTranscript]);\r\n\r\n  return (\r\n    <div className=\"h-100 d-flex align-items-center user-select-none\">\r\n      <div className=\"d-table mx-auto\">\r\n        <h1 style={{color: \"#0d9ca4\", fontFamily: \"BlackJack\", fontSize: \"6rem\"}} className=\"mx-auto\">Dear Diary</h1>\r\n        <p className=\"lead text-center\">Say it. I write it.</p>\r\n        <div className=\"bg-light d-table p-3 rounded-circle mx-auto\" role=\"button\" onClick={() => {alert.play(); SpeechRecognition.startListening({continuous: true});}}>\r\n          <MicIcon fontSize=\"large\"/>\r\n        </div>\r\n        <br></br>\r\n        <p className=\"lead text-center\">Click <MicIcon/> to turn on your microphone.</p>\r\n        <br></br>\r\n        <div className=\"alert alert-secondary border\" role=\"alert\" style={{width: \"25rem\"}} hidden={!result.length}>\r\n          {result}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Index;","C:\\Users\\IsaiasBriones\\Desktop\\dear-diary\\src\\history.js",[],{"ruleId":"52","replacedBy":"53"},{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","severity":1,"message":"57","line":1,"column":17,"nodeType":"58","messageId":"59","endLine":1,"endColumn":25},{"ruleId":"56","severity":1,"message":"60","line":1,"column":27,"nodeType":"58","messageId":"59","endLine":1,"endColumn":36},{"ruleId":"56","severity":1,"message":"60","line":1,"column":27,"nodeType":"58","messageId":"59","endLine":1,"endColumn":36},{"ruleId":"56","severity":1,"message":"61","line":2,"column":8,"nodeType":"58","messageId":"59","endLine":2,"endColumn":25},{"ruleId":"56","severity":1,"message":"62","line":12,"column":12,"nodeType":"58","messageId":"59","endLine":12,"endColumn":16},{"ruleId":"56","severity":1,"message":"63","line":19,"column":25,"nodeType":"58","messageId":"59","endLine":19,"endColumn":40},{"ruleId":"56","severity":1,"message":"64","line":19,"column":42,"nodeType":"58","messageId":"59","endLine":19,"endColumn":57},{"ruleId":"65","severity":1,"message":"66","line":62,"column":6,"nodeType":"67","endLine":62,"endColumn":35,"suggestions":"68"},"no-native-reassign",["69"],"no-negated-in-lhs",["70"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","'SpeechRecognition' is defined but never used.","'woke' is assigned a value but never used.","'finalTranscript' is assigned a value but never used.","'resetTranscript' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'resetTranscript', 'sendQuery', 'setWoke', and 'woke'. Either include them or remove the dependency array.","ArrayExpression",["71"],"no-global-assign","no-unsafe-negation",{"desc":"72","fix":"73"},"Update the dependencies array to be: [transcript, finalTranscript, woke, sendQuery, setWoke, resetTranscript]",{"range":"74","text":"75"},[1779,1808],"[transcript, finalTranscript, woke, sendQuery, setWoke, resetTranscript]"]